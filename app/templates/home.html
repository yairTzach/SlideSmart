<!DOCTYPE html>
<html lang="en" style="font-size: 16px;">
<head>
    
    <!-- Meta Tags and CSS Links -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Slide Smart</title>


    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0NYPHBXNRT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-ONYPHBXNRT');
    </script>
  
    <meta name="keywords" content="Welcome to Slide Smart Kids">
    <meta name="description" content="">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS Files -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/nicepage.css') }}" media="screen">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}" media="screen">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}">

    <!-- JavaScript Files -->
    <script class="u-script" type="text/javascript" src="{{ url_for('static', filename='js/jquery.js') }}" defer></script>
    <script class="u-script" type="text/javascript" src="{{ url_for('static', filename='js/nicepage.js') }}" defer></script>

    <!-- Theme Color -->
    <meta name="theme-color" content="#478ac9">

    <!-- Additional Styles -->
    <style>

        /* Background styling */
        body {
            background-image: linear-gradient(0deg, rgba(66,84,101,0.2), rgba(66,84,101,0.2)), url('{{ url_for('static', filename='images/jh.jpg') }}');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body class="u-body u-xl-mode" data-lang="en">

    <!-- Navigation Bar -->
    <div class="nav-bar">
        <div class="logo">
            <a href="{{ url_for('home_router.home') }}">
                <img src="{{ url_for('static', filename='images/slideSmartLogo.jpeg') }}" alt="Slide Smart Kids Logo">
            </a>
        </div>
        <a href="{{ url_for('logout_router.logout') }}">Logout</a>
        <a href="{{ url_for('profile_router.profile') }}">Profile</a>
        <a href="{{ url_for('home_router.home') }}">Home</a>
    </div>

    <!-- Speaker Icon to Control Music -->

    <!-- Main Content -->
    <section class="u-align-center u-clearfix u-container-align-center u-image u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-section-1" style="background-image: url('{{ url_for('static', filename='images/jh.jpg') }}');" data-image-width="1980" data-image-height="1114">
        <div class="data-layout-selected u-clearfix u-gutter-0 u-layout-wrap u-layout-wrap-1">
            <div class="u-layout">
                <div class="u-layout-row">
                    
                    <!-- Left Section: Text and PDF Upload -->
                    <div class="u-align-left u-container-style u-layout-cell u-left-cell u-shape-rectangle u-size-20-lg u-size-20-xl u-size-23-md u-size-23-sm u-size-23-xs u-size-xs-60 u-layout-cell-1">
                        <div class="u-container-layout u-container-layout-1">
                            <h1 class="u-text u-text-body-alt-color u-text-1">Welcome to Slide Smart</h1>
                            <ul class="u-text u-text-body-alt-color u-text-3">
                                <li><i class="fas fa-book"></i> Study your lecture material.</li>
                                <li><i class="fas fa-upload"></i> Upload your lecture slides in PDF format.</li>
                                <li><i class="fas fa-play-circle"></i> Click "START TRIVIA" to generate personalized quiz questions.</li>
                                <li><i class="fas fa-question-circle"></i> Test your knowledge and receive instant feedback.</li>
                                <li><i class="fas fa-chart-line"></i> Review your results and improve.</li>
                            </ul>
                                            
                            <!-- Form to upload a PDF -->
                            <!-- Enhanced Upload Form -->
                            <form id="uploadForm" enctype="multipart/form-data" method="POST" action="/upload" class="upload-form" onsubmit="return validateForm()">
                                <div id="drop-area">
                                    <p>Drag & Drop your PDF here or</p>
                                    <label for="pdfFile" class="custom-file-upload">
                                        <i class="fas fa-cloud-upload-alt"></i> Choose PDF File
                                    </label>
                                    <input type="file" id="pdfFile" name="pdfFile" accept=".pdf" onchange="handleFiles(this.files)" required>
                                    <span id="file-name">No file selected</span>
                                </div>
                                <br>
                                <input type="submit" value="START TRIVIA" class="u-btn u-btn-1">
                            </form>
                        </div>
                    </div>
                    
                    <!-- Right Section: Foreground Image -->
                    <div class="u-align-center u-container-align-center u-container-style u-image u-layout-cell u-right-cell u-size-37-md u-size-37-sm u-size-37-xs u-size-40-lg u-size-40-xl u-size-xs-60 u-image-1" style="background-image: url('{{ url_for('static', filename='images/5807340-min.png') }}');" data-image-width="1422" data-image-height="900">
                        <div class="u-container-layout u-container-layout-2"></div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- JavaScript for PDF Upload and Validation -->
    <script>
        // Get the drop area element
        let dropArea = document.getElementById('drop-area');
      
        // Prevent default behaviors
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
          dropArea.addEventListener(eventName, preventDefaults, false);
        });
      
        function preventDefaults(e) {
          e.preventDefault();
          e.stopPropagation();
        }
      
        // Highlight drop area when item is dragged over it
        ['dragenter', 'dragover'].forEach(eventName => {
          dropArea.addEventListener(eventName, highlight, false);
        });
      
        ['dragleave', 'drop'].forEach(eventName => {
          dropArea.addEventListener(eventName, unhighlight, false);
        });
      
        function highlight(e) {
          dropArea.classList.add('highlight');
        }
      
        function unhighlight(e) {
          dropArea.classList.remove('highlight');
        }
      
        // Handle dropped files
        dropArea.addEventListener('drop', handleDrop, false);
      
        function handleDrop(e) {
          let dt = e.dataTransfer;
          let files = dt.files;
          handleFiles(files);
        }
      
        function handleFiles(files) {
          document.getElementById('pdfFile').files = files; // Update the file input
          displayFileName();
        }
      
        // Display the selected file name
        function displayFileName() {
          const fileInput = document.getElementById('pdfFile');
          const fileNameDisplay = document.getElementById('file-name');
          const fileName = fileInput.files[0] ? fileInput.files[0].name : 'No file selected';
          fileNameDisplay.textContent = fileName;
        }

        // Function to validate the file extension before submitting the form
        function validateForm() {
            const fileInput = document.getElementById('pdfFile');
            const filePath = fileInput.value;
            const allowedExtensions = /(\.pdf)$/i;
            if (!allowedExtensions.exec(filePath)) {
                alert('Invalid file type. Please upload a PDF file.');
                fileInput.value = ''; // Clear the input
                document.getElementById('file-name').textContent = 'No file selected';
                return false; // Prevent form submission
            }
            return true; // Proceed with form submission
        }
    </script>

</body>
</html>
